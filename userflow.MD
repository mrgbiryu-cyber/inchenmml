ì•ˆí‹°ê·¸ë˜ë¹„í‹° ê°œë°œ ì§€ì‹œë¬¸: BUJA Core Platform ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦ ë° ê¸°ìˆ ìŠ¤íƒ í†µí•©
ğŸ“‹ ê°œìš”
í˜„ì¬ SYSTEM_OVERVIEW.mdì— ê°œë°œëœ BUJA Core Platformì„ ê²€í† í•œ ê²°ê³¼, ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì´ ì•„ì§ ë¯¸êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë³¸ ì§€ì‹œë¬¸ì€ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì™„ì „íˆ êµ¬í˜„í•˜ê¸° ìœ„í•œ ê°œë°œ ì‘ì—…ì„ ë‹¨ê³„ë³„ë¡œ ì •ì˜í•©ë‹ˆë‹¤.

ğŸ” GAP ë¶„ì„: ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ vs í˜„ì¬ êµ¬í˜„ ìƒíƒœ
ì‹œë‚˜ë¦¬ì˜¤	ìš”êµ¬ì‚¬í•­	í˜„ì¬ ìƒíƒœ	GAP
1. myllm ì ‘ì†	ì‚¬ìš©ì ì¸ì¦ í›„ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼	âœ… JWT ì¸ì¦ êµ¬í˜„ë¨	-
2. í”„ë¡œì íŠ¸ ë“±ë¡	ê¸°ì¡´/ì‹ ê·œ í”„ë¡œì íŠ¸ ê´€ë¦¬	âš ï¸ Domainë§Œ ì¡´ì¬ (Project ê°œë… ì—†ìŒ)	Project CRUD í•„ìš”
3. Agent ì„¤ì •	í”„ë¡œì íŠ¸ë³„ Agent ì—­í• /ì¡°í•© ì„¤ì •	âŒ ë¯¸êµ¬í˜„	Agent Config UI/API í•„ìš”
4. ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì½”ë”©	Multi-Agent ì›Œí¬í”Œë¡œìš° ì‹¤í–‰	âŒ ë¯¸êµ¬í˜„	LangGraph í†µí•© í•„ìš”
5. DB/ì˜¨í†¨ë¡œì§€ ì €ì¥	Neo4j/Pinecone ì €ì¥ ë° ì‹œê°í™”	âŒ ë¯¸êµ¬í˜„	Vector/Graph DB ì—°ë™ í•„ìš”
ğŸ“Œ Phase 1: í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•
1.1 Backend - Project API ê°œë°œ
íŒŒì¼ ìœ„ì¹˜: backend/app/api/v1/projects.py


# êµ¬í˜„í•´ì•¼ í•  API ì—”ë“œí¬ì¸íŠ¸
"""
POST   /api/v1/projects                    # í”„ë¡œì íŠ¸ ìƒì„±
GET    /api/v1/projects                    # ì‚¬ìš©ì í”„ë¡œì íŠ¸ ëª©ë¡
GET    /api/v1/projects/{project_id}       # í”„ë¡œì íŠ¸ ìƒì„¸
PATCH  /api/v1/projects/{project_id}       # í”„ë¡œì íŠ¸ ìˆ˜ì •
DELETE /api/v1/projects/{project_id}       # í”„ë¡œì íŠ¸ ì‚­ì œ
POST   /api/v1/projects/{project_id}/agents  # Agent ì„¤ì • ì €ì¥
GET    /api/v1/projects/{project_id}/agents  # Agent ì„¤ì • ì¡°íšŒ
"""
Project ë°ì´í„° ëª¨ë¸:


class Project(BaseModel):
    id: str                          # UUID
    name: str                        # í”„ë¡œì íŠ¸ ì´ë¦„
    description: Optional[str]
    project_type: Literal["EXISTING", "NEW"]  # ê¸°ì¡´/ì‹ ê·œ êµ¬ë¶„
    repo_path: Optional[str]         # ë¡œì»¬ ê²½ë¡œ (ê¸°ì¡´ í”„ë¡œì íŠ¸ìš©)
    tenant_id: str
    user_id: str
    created_at: datetime
    updated_at: datetime
    
    # Agent ì„¤ì •
    agent_config: ProjectAgentConfig
    
class ProjectAgentConfig(BaseModel):
    workflow_type: Literal["SEQUENTIAL", "PARALLEL", "CUSTOM"]
    agents: List[AgentDefinition]
    entry_agent_id: str              # ì‹œì‘ Agent
    
class AgentDefinition(BaseModel):
    agent_id: str
    role: str                        # "PLANNER", "CODER", "REVIEWER", "QA"
    model: str                       # "deepseek-chat", "mimo-v2-flash"
    provider: Literal["OPENROUTER", "OLLAMA"]
    system_prompt: str
    next_agents: List[str]           # ë‹¤ìŒ ë‹¨ê³„ Agent IDë“¤
1.2 Frontend - í”„ë¡œì íŠ¸ ê´€ë¦¬ UI
íŒŒì¼ ìœ„ì¹˜: frontend/src/app/projects/


projects/
â”œâ”€â”€ page.tsx              # í”„ë¡œì íŠ¸ ëª©ë¡
â”œâ”€â”€ new/page.tsx          # ì‹ ê·œ í”„ë¡œì íŠ¸ ìƒì„±
â”œâ”€â”€ [projectId]/
â”‚   â”œâ”€â”€ page.tsx          # í”„ë¡œì íŠ¸ ìƒì„¸
â”‚   â”œâ”€â”€ agents/page.tsx   # Agent ì„¤ì • í˜ì´ì§€
â”‚   â””â”€â”€ workflow/page.tsx # ì›Œí¬í”Œë¡œìš° ì‹œê°í™”
êµ¬í˜„ ìš”êµ¬ì‚¬í•­:

í”„ë¡œì íŠ¸ ëª©ë¡ í˜ì´ì§€

ì¹´ë“œ í˜•íƒœë¡œ í”„ë¡œì íŠ¸ í‘œì‹œ
ê¸°ì¡´/ì‹ ê·œ í”„ë¡œì íŠ¸ í•„í„°
ê²€ìƒ‰ ê¸°ëŠ¥
í”„ë¡œì íŠ¸ ìƒì„± í¼

í”„ë¡œì íŠ¸ íƒ€ì… ì„ íƒ (ê¸°ì¡´ ì—°ë™ / ì‹ ê·œ ìƒì„±)
ê¸°ì¡´ í”„ë¡œì íŠ¸: Git URL ë˜ëŠ” ë¡œì»¬ ê²½ë¡œ ì…ë ¥
ì‹ ê·œ í”„ë¡œì íŠ¸: í…œí”Œë¦¿ ì„ íƒ
ğŸ“Œ Phase 2: Agent ì„¤ì • ì‹œìŠ¤í…œ (LangGraph í†µí•©)
2.1 Backend - Agent Configuration Service
íŒŒì¼ ìœ„ì¹˜: backend/app/services/agent_config_service.py


class AgentConfigService:
    """
    Agent ì„¤ì •ì„ Neo4jì— ì €ì¥í•˜ê³  LangGraph ì›Œí¬í”Œë¡œìš° ìƒì„±
    """
    
    async def save_agent_config(
        self, 
        project_id: str, 
        config: ProjectAgentConfig
    ) -> None:
        """
        Neo4jì— Agent êµ¬ì„± ì €ì¥
        
        ë…¸ë“œ ìƒì„±:
        - (:Project {id: $project_id})
        - (:AgentRole {id: $agent_id, role: $role, model: $model, ...})
        
        ê´€ê³„ ìƒì„±:
        - (Project)-[:HAS_AGENT]->(AgentRole)
        - (AgentRole)-[:NEXT_STEP]->(AgentRole)
        """
        pass
    
    async def load_agent_config(
        self, 
        project_id: str
    ) -> ProjectAgentConfig:
        """Neo4jì—ì„œ Agent êµ¬ì„± ë¡œë“œ"""
        pass
    
    async def build_langgraph_workflow(
        self, 
        config: ProjectAgentConfig
    ) -> CompiledGraph:
        """
        LangGraph StateGraph ë¹Œë“œ
        
        ì˜ˆì‹œ:
        graph = StateGraph(AgentState)
        for agent in config.agents:
            graph.add_node(agent.agent_id, create_agent_node(agent))
        for agent in config.agents:
            for next_id in agent.next_agents:
                graph.add_edge(agent.agent_id, next_id)
        graph.set_entry_point(config.entry_agent_id)
        return graph.compile()
        """
        pass
2.2 Agent í…œí”Œë¦¿ (ì‚¬ì „ ì •ì˜ëœ ì„¤ì •)
íŒŒì¼ ìœ„ì¹˜: backend/app/data/agent_templates.py


AGENT_TEMPLATES = {
    "coding_workflow": {
        "name": "ê¸°ë³¸ ì½”ë”© ì›Œí¬í”Œë¡œìš°",
        "description": "Planner â†’ Coder â†’ Reviewer â†’ QA",
        "agents": [
            {
                "agent_id": "planner",
                "role": "PLANNER",
                "model": "deepseek-chat",
                "provider": "OPENROUTER",
                "system_prompt": "ë‹¹ì‹ ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ì…ë‹ˆë‹¤...",
                "next_agents": ["coder"]
            },
            {
                "agent_id": "coder",
                "role": "CODER",
                "model": "mimo-v2-flash",
                "provider": "OLLAMA",
                "system_prompt": "ë‹¹ì‹ ì€ Python ì „ë¬¸ ê°œë°œìì…ë‹ˆë‹¤...",
                "next_agents": ["reviewer"]
            },
            {
                "agent_id": "reviewer",
                "role": "REVIEWER",
                "model": "claude-3.5-sonnet",
                "provider": "OPENROUTER",
                "system_prompt": "ë‹¹ì‹ ì€ ì½”ë“œ ë¦¬ë·° ì „ë¬¸ê°€ì…ë‹ˆë‹¤...",
                "next_agents": ["qa"]
            },
            {
                "agent_id": "qa",
                "role": "QA",
                "model": "deepseek-chat",
                "provider": "OPENROUTER",
                "system_prompt": "ë‹¹ì‹ ì€ QA ì—”ì§€ë‹ˆì–´ì…ë‹ˆë‹¤...",
                "next_agents": []  # ì¢…ë£Œ
            }
        ],
        "entry_agent_id": "planner"
    }
}
2.3 Frontend - Agent ì„¤ì • UI
íŒŒì¼ ìœ„ì¹˜: frontend/src/app/projects/[projectId]/agents/page.tsx

UI ìš”êµ¬ì‚¬í•­:

ë“œë˜ê·¸ ì•¤ ë“œë¡­ Agent ë°°ì¹˜

ReactFlow í™œìš©
ë¯¸ë¦¬ ì •ì˜ëœ Agent íƒ€ì… íŒ”ë ˆíŠ¸ (Planner, Coder, Reviewer, QA, Custom)
Agent ë…¸ë“œ ì„¤ì • ëª¨ë‹¬

ì—­í•  ì„ íƒ
LLM ëª¨ë¸ ì„ íƒ (OpenRouterì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë¸ ëª©ë¡)
ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í¸ì§‘
Provider ì„ íƒ (CLOUD/LOCAL)
ì›Œí¬í”Œë¡œìš° ì—°ê²°

ë…¸ë“œ ê°„ Edge ì—°ê²° (Next Agent ì„¤ì •)
ì¡°ê±´ë¶€ ë¶„ê¸° ì„¤ì • (Optional)
í…œí”Œë¦¿ ë¶ˆëŸ¬ì˜¤ê¸°

ì‚¬ì „ ì •ì˜ëœ í…œí”Œë¦¿ ì„ íƒí•˜ì—¬ ì ìš©
ğŸ“Œ Phase 3: ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì½”ë”© ì‹¤í–‰ (Multi-Agent Workflow)
3.1 Backend - Orchestration Service
íŒŒì¼ ìœ„ì¹˜: backend/app/services/orchestration_service.py


class OrchestrationService:
    """
    ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ Multi-Agent ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
    """
    
    async def execute_workflow(
        self,
        project_id: str,
        user_input: str,
        user: User
    ) -> str:  # job_id ë°˜í™˜
        """
        1. í”„ë¡œì íŠ¸ì˜ Agent ì„¤ì • ë¡œë“œ
        2. LangGraph ì›Œí¬í”Œë¡œìš° ë¹Œë“œ
        3. ì²« ë²ˆì§¸ Agentì—ê²Œ user_input ì „ë‹¬
        4. ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ (ê° ë‹¨ê³„ë³„ Job ìƒì„±)
        5. ìµœì¢… ê²°ê³¼ ë°˜í™˜
        """
        
        # Step 1: Load config
        config = await self.agent_config_service.load_agent_config(project_id)
        
        # Step 2: Build workflow
        graph = await self.agent_config_service.build_langgraph_workflow(config)
        
        # Step 3: Create orchestration job
        orchestration_job_id = str(uuid.uuid4())
        
        # Step 4: Execute with streaming
        async for event in graph.astream(
            {"input": user_input, "messages": []},
            config={"configurable": {"thread_id": orchestration_job_id}}
        ):
            # ê° Agent ë‹¨ê³„ë³„ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸
            await self.update_step_status(orchestration_job_id, event)
            
            # LOCAL ì‹¤í–‰ì´ í•„ìš”í•œ ê²½ìš° Job Queueì— ì¶”ê°€
            if self.requires_local_execution(event):
                await self.create_local_job(event, project_id, user)
        
        return orchestration_job_id
3.2 ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© API
íŒŒì¼ ìœ„ì¹˜: backend/app/api/v1/orchestration.py


# êµ¬í˜„í•´ì•¼ í•  API ì—”ë“œí¬ì¸íŠ¸
"""
POST /api/v1/projects/{project_id}/execute
    Request: {"input": "ë¡œê·¸ì¸ APIë¥¼ ë§Œë“¤ì–´ì¤˜"}
    Response: {"orchestration_id": "uuid", "status": "STARTED"}

GET /api/v1/orchestrations/{orchestration_id}/status
    Response: {
        "orchestration_id": "uuid",
        "status": "RUNNING",
        "current_step": "coder",
        "steps": [
            {"agent": "planner", "status": "COMPLETED", "output": "..."},
            {"agent": "coder", "status": "RUNNING", "progress": 60},
            {"agent": "reviewer", "status": "PENDING"},
            {"agent": "qa", "status": "PENDING"}
        ]
    }

WebSocket /api/v1/orchestrations/{orchestration_id}/stream
    # ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ìŠ¤íŠ¸ë¦¬ë°
"""
3.3 Frontend - ì‹¤í–‰ ë° ëª¨ë‹ˆí„°ë§ UI
íŒŒì¼ ìœ„ì¹˜: frontend/src/app/projects/[projectId]/execute/page.tsx

UI ìš”êµ¬ì‚¬í•­:

ì…ë ¥ ì˜ì—­

í…ìŠ¤íŠ¸ ì…ë ¥ ë˜ëŠ” ì•„ì´ë””ì–´ ì…ë ¥
íŒŒì¼ ì—…ë¡œë“œ (ì»¨í…ìŠ¤íŠ¸ ì œê³µ)
ì‹¤í–‰ ì§„í–‰ ìƒí™© í‘œì‹œ

ê° Agent ë‹¨ê³„ë³„ ì§„í–‰ë¥ 
í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ Agent í•˜ì´ë¼ì´íŠ¸
ê° ë‹¨ê³„ ì¶œë ¥ ë¯¸ë¦¬ë³´ê¸°
ê²°ê³¼ í‘œì‹œ

ìƒì„±ëœ ì½”ë“œ diff í‘œì‹œ
íŒŒì¼ íŠ¸ë¦¬ ë³€ê²½ ì‚¬í•­
ì ìš©/ë¡¤ë°± ë²„íŠ¼
ğŸ“Œ Phase 4: ê¸°ìˆ ìŠ¤íƒ í†µí•© (Neo4j, Pinecone, LangFuse)
4.1 Neo4j AuraDB ì—°ë™
íŒŒì¼ ìœ„ì¹˜: backend/app/core/neo4j_client.py


from neo4j import AsyncGraphDatabase

class Neo4jClient:
    def __init__(self, uri: str, user: str, password: str):
        self.driver = AsyncGraphDatabase.driver(uri, auth=(user, password))
    
    async def create_project_graph(self, project: Project):
        """í”„ë¡œì íŠ¸ ë° Agent ê´€ê³„ ì €ì¥"""
        query = """
        MERGE (p:Project {id: $project_id})
        SET p.name = $name, p.tenant_id = $tenant_id
        
        WITH p
        UNWIND $agents AS agent
        MERGE (a:AgentRole {id: agent.agent_id})
        SET a.role = agent.role, a.model = agent.model
        MERGE (p)-[:HAS_AGENT]->(a)
        
        WITH p, a, agent
        UNWIND agent.next_agents AS next_id
        MATCH (next:AgentRole {id: next_id})
        MERGE (a)-[:NEXT_STEP]->(next)
        """
        async with self.driver.session() as session:
            await session.run(query, {
                "project_id": project.id,
                "name": project.name,
                "tenant_id": project.tenant_id,
                "agents": [a.dict() for a in project.agent_config.agents]
            })
    
    async def get_knowledge_graph(self, tenant_id: str) -> dict:
        """ì§€ì‹ ê·¸ë˜í”„ ì¡°íšŒ (ì‹œê°í™”ìš©)"""
        query = """
        MATCH (p:Project {tenant_id: $tenant_id})-[r]->(n)
        RETURN p, r, n
        """
        async with self.driver.session() as session:
            result = await session.run(query, {"tenant_id": tenant_id})
            return await self._format_for_visualization(result)
í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€:


NEO4J_URI=neo4j+s://xxxxxxxx.databases.neo4j.io
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password
4.2 Pinecone ì—°ë™ (Vector DB)
íŒŒì¼ ìœ„ì¹˜: backend/app/core/pinecone_client.py


from pinecone import Pinecone

class PineconeClient:
    def __init__(self, api_key: str, index_name: str):
        self.pc = Pinecone(api_key=api_key)
        self.index = self.pc.Index(index_name)
    
    async def upsert_knowledge(
        self, 
        tenant_id: str, 
        user_id: str,
        content: str,
        metadata: dict
    ):
        """ì§€ì‹ ì„ë² ë”© ì €ì¥"""
        embedding = await self.get_embedding(content)
        namespace = f"{tenant_id}_{user_id}"
        
        self.index.upsert(
            vectors=[{
                "id": str(uuid.uuid4()),
                "values": embedding,
                "metadata": {
                    **metadata,
                    "content": content[:1000],  # ë¯¸ë¦¬ë³´ê¸°
                    "tenant_id": tenant_id
                }
            }],
            namespace=namespace
        )
    
    async def search_knowledge(
        self,
        tenant_id: str,
        user_id: str,
        query: str,
        top_k: int = 5
    ) -> List[dict]:
        """ìœ ì‚¬ ì§€ì‹ ê²€ìƒ‰"""
        embedding = await self.get_embedding(query)
        namespace = f"{tenant_id}_{user_id}"
        
        results = self.index.query(
            vector=embedding,
            top_k=top_k,
            namespace=namespace,
            include_metadata=True
        )
        return [match.metadata for match in results.matches]
í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€:


PINECONE_API_KEY=your_pinecone_api_key
PINECONE_INDEX_NAME=buja-knowledge
4.3 LangFuse í†µí•© (Observability)
íŒŒì¼ ìœ„ì¹˜: backend/app/core/langfuse_client.py


from langfuse import Langfuse
from langfuse.decorators import observe

class LangFuseClient:
    def __init__(self):
        self.langfuse = Langfuse(
            public_key=os.getenv("LANGFUSE_PUBLIC_KEY"),
            secret_key=os.getenv("LANGFUSE_SECRET_KEY"),
            host=os.getenv("LANGFUSE_HOST", "https://cloud.langfuse.com")
        )
    
    @observe(name="agent_execution")
    async def trace_agent_execution(
        self,
        agent_id: str,
        input_text: str,
        output_text: str,
        model: str,
        latency_ms: int,
        tokens_used: int
    ):
        """Agent ì‹¤í–‰ ì¶”ì """
        self.langfuse.trace(
            name=f"agent_{agent_id}",
            input=input_text,
            output=output_text,
            metadata={
                "model": model,
                "latency_ms": latency_ms,
                "tokens": tokens_used
            }
        )
í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€:


LANGFUSE_PUBLIC_KEY=pk-lf-xxxxxxxx
LANGFUSE_SECRET_KEY=sk-lf-xxxxxxxx
LANGFUSE_HOST=https://cloud.langfuse.com
4.4 Tavily Search í†µí•©
íŒŒì¼ ìœ„ì¹˜: backend/app/services/search_service.py


from tavily import TavilyClient

class SearchService:
    def __init__(self):
        self.tavily = TavilyClient(api_key=os.getenv("TAVILY_API_KEY"))
    
    async def web_search(self, query: str, max_results: int = 5) -> List[dict]:
        """ì›¹ ê²€ìƒ‰ ìˆ˜í–‰"""
        response = self.tavily.search(
            query=query,
            search_depth="advanced",
            max_results=max_results
        )
        return response["results"]
    
    async def search_and_summarize(self, query: str) -> str:
        """ê²€ìƒ‰ í›„ ìš”ì•½"""
        response = self.tavily.qna_search(query=query)
        return response["answer"]
í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€:


TAVILY_API_KEY=tvly-xxxxxxxx
ğŸ“Œ Phase 5: Frontend ì‹œê°í™” (LangGraph/LangFuse)
5.1 ì›Œí¬í”Œë¡œìš° ì‹œê°í™” (ReactFlow)
íŒŒì¼ ìœ„ì¹˜: frontend/src/components/WorkflowVisualizer.tsx


import ReactFlow, { Node, Edge, Background, Controls } from 'reactflow';

interface WorkflowVisualizerProps {
  agents: AgentDefinition[];
  currentStep?: string;
  stepStatuses: Record<string, 'PENDING' | 'RUNNING' | 'COMPLETED' | 'FAILED'>;
}

export function WorkflowVisualizer({ agents, currentStep, stepStatuses }: WorkflowVisualizerProps) {
  const nodes: Node[] = agents.map((agent, index) => ({
    id: agent.agent_id,
    position: { x: index * 250, y: 100 },
    data: { 
      label: agent.role,
      model: agent.model,
      status: stepStatuses[agent.agent_id] || 'PENDING'
    },
    type: 'agentNode',
    style: getNodeStyle(stepStatuses[agent.agent_id], agent.agent_id === currentStep)
  }));

  const edges: Edge[] = agents.flatMap(agent =>
    agent.next_agents.map(nextId => ({
      id: `${agent.agent_id}-${nextId}`,
      source: agent.agent_id,
      target: nextId,
      animated: agent.agent_id === currentStep
    }))
  );

  return (
    <ReactFlow nodes={nodes} edges={edges}>
      <Background />
      <Controls />
    </ReactFlow>
  );
}
5.2 LangFuse ëŒ€ì‹œë³´ë“œ ì„ë² ë”©
íŒŒì¼ ìœ„ì¹˜: frontend/src/app/projects/[projectId]/traces/page.tsx


export default function TracesPage({ params }: { params: { projectId: string } }) {
  return (
    <div className="h-screen">
      <h1>ì‹¤í–‰ ì¶”ì  (LangFuse)</h1>
      
      {/* LangFuse Public Dashboard Embed */}
      <iframe
        src={`https://cloud.langfuse.com/project/${process.env.LANGFUSE_PROJECT_ID}/traces?filter=project_id=${params.projectId}`}
        className="w-full h-full border-0"
      />
      
      {/* ë˜ëŠ” ìì²´ APIë¡œ ë°ì´í„° ì¡°íšŒí•˜ì—¬ í‘œì‹œ */}
    </div>
  );
}
ğŸ“Œ Implementation Checklist
Backend Tasks
 POST /api/v1/projects - í”„ë¡œì íŠ¸ ìƒì„± API
 GET /api/v1/projects - í”„ë¡œì íŠ¸ ëª©ë¡ API
 POST /api/v1/projects/{id}/agents - Agent ì„¤ì • ì €ì¥ API
 Neo4j í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ (neo4j_client.py)
 Pinecone í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ (pinecone_client.py)
 LangFuse í†µí•© (langfuse_client.py)
 Tavily Search í†µí•© (search_service.py)
 OrchestrationService êµ¬í˜„ (LangGraph ì›Œí¬í”Œë¡œìš° ë¹Œë“œ)
 WebSocket ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì—”ë“œí¬ì¸íŠ¸
Frontend Tasks
 /projects - í”„ë¡œì íŠ¸ ëª©ë¡ í˜ì´ì§€
 /projects/new - í”„ë¡œì íŠ¸ ìƒì„± í˜ì´ì§€
 /projects/[id]/agents - Agent ì„¤ì • í˜ì´ì§€ (ReactFlow)
 /projects/[id]/execute - ì‹¤í–‰ í˜ì´ì§€
 /projects/[id]/traces - ì‹¤í–‰ ì¶”ì  í˜ì´ì§€
 WorkflowVisualizer ì»´í¬ë„ŒíŠ¸
 Agent ë…¸ë“œ ì„¤ì • ëª¨ë‹¬
Infrastructure Tasks
 Neo4j AuraDB Free Tier ìƒì„± ë° ì—°ê²°
 Pinecone ì¸ë±ìŠ¤ ìƒì„± (dimension: 1536 for OpenAI embeddings)
 LangFuse í”„ë¡œì íŠ¸ ìƒì„±
 Tavily API í‚¤ ë°œê¸‰
 í™˜ê²½ ë³€ìˆ˜ ì—…ë°ì´íŠ¸ (.env)
ğŸš€ ì‹¤í–‰ ìš°ì„ ìˆœìœ„
Phase 1 (í”„ë¡œì íŠ¸ ê´€ë¦¬) - 1ì£¼

í•µì‹¬: ì‚¬ìš©ìê°€ í”„ë¡œì íŠ¸ë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨
Phase 2 (Agent ì„¤ì •) - 1ì£¼

í•µì‹¬: í”„ë¡œì íŠ¸ë³„ Agent êµ¬ì„±ì„ ì‹œê°ì ìœ¼ë¡œ ì„¤ì •
Phase 4 (DB ì—°ë™) - 1ì£¼ (Phase 2ì™€ ë³‘í–‰ ê°€ëŠ¥)

í•µì‹¬: Neo4j/Pinecone ì—°ê²°í•˜ì—¬ ë°ì´í„° ì˜ì†í™”
Phase 3 (ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì‹¤í–‰) - 2ì£¼

í•µì‹¬: LangGraphë¡œ Multi-Agent ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
Phase 5 (ì‹œê°í™”) - 1ì£¼

í•µì‹¬: ì‹¤í–‰ ìƒíƒœ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
âš ï¸ ì£¼ì˜ì‚¬í•­
ë³´ì•ˆ: SYSTEM_OVERVIEW.mdì˜ Ed25519 ì„œëª… ê²€ì¦ ë¡œì§ì„ ìœ ì§€í•  ê²ƒ
ë©€í‹°í…Œë„Œì‹œ: ëª¨ë“  ì¿¼ë¦¬ì— tenant_id í•„í„° í•„ìˆ˜
RBAC: LOCAL_MACHINE ì‹¤í–‰ì€ SUPER_ADMIN ë˜ëŠ” Domain ê¶Œí•œ ìˆëŠ” ì‚¬ìš©ìë§Œ
OpenRouter ëª¨ë¸: DeepSeek V3, Claude 3.5 Sonnet ë“± ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡ ë™ì  ëª¨ë¸ ëª©ë¡ ì œê³µ