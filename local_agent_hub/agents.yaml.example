# BUJA Local Worker Configuration
# Copy this to agents.yaml and configure with your values

server:
  url: http://localhost:8000  # ⚠️ Change this from https://api.bujacore.com
  worker_token: sk_worker_test_token_12345
  poll_interval: 5
  timeout: 30
  heartbeat_interval: 30

capabilities:
  - provider: OLLAMA
    model: mimo-v2-flash
    endpoint: http://localhost:11434
    timeout: 120
    max_concurrent: 3

security:
  # ⚠️ Replace with your generated public key from CONFIG_SETUP.md
  job_signing_public_key: |
    -----BEGIN PUBLIC KEY-----
    MCowBQYDK2VwAyEASAc8S81M5rIK1j/JWqopQ0EQaRnKTNtD3rQ/aTGYQW4=
    -----END PUBLIC KEY-----
  
  allowed_path_prefixes:
    - ""  # Allow root-level files for testing
    - "src/"
    - "tests/"
  
  forbidden_absolute_paths:
    - "/etc/"
    - "/root/"
    - "/sys/"
    - "/proc/"
    - "~/.ssh/"
    - "~/.aws/"

execution:
  roo_code:
    enabled: true
    task_file: TASK.md
    completion_marker: .roo_completed
    trigger_method: watcher
  
  max_file_size_bytes: 1048576  # 1 MB
  max_total_size_bytes: 10485760  # 10 MB
  
  git:
    auto_commit: false
    commit_message_template: "BUJA: {job_id}"

logging:
  level: INFO
  file: logs/worker.log
  max_size_bytes: 10485760
  backup_count: 5
  format: "[%(asctime)s] %(levelname)s: %(message)s"
  structured: true
  json_format: false

worker:
  id: worker_001
  name: Development Worker
  tags:
    - development
    - local
  max_memory_mb: 4096
  max_cpu_percent: 80
